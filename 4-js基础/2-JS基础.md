# 1. 初识 JavaScript

### 1.1 JS历史

布兰登艾奇（Brendan Eich，1961年 ~）是一名网景公司的员工，于1995年利用10天完成JS设计。起初命名为LiveScript，后来网景公司和Sun公司合作后改名为JavaScript

### 1.2 JS是什么

* JS是世界上最流行的语言之一，是一种运行在客户端的脚本语言
* 脚本语言：不需要编译，运行过程中由JS解释器解释并执行
* 现在也可以基于Node.js进行服务端编程

### 1.3 JS的作用

* 表单动态核验（JS产生最初的目的）
* 网页特效
* 服务端开发（Node.js）
* 桌面程序（Electron）
* App（Cordova）
* 控制硬件-物联网（Ruff）
* 游戏开发（cocosd-js）

### 1.4 浏览器执行JS简介

浏览器分为两部分，渲染引擎和JS引擎

* 渲染引擎：用于解释HTML和CSS，俗称内核，比如Chrome浏览器的blink，老版本的webkit
* JS引擎：也称为JS解释器，用于读取页面中的JS代码，对其处理后运行。比如Chrome浏览器的V8

浏览器本身并不会执行JS代码，而是通过内置的JS引擎（JS解释器）来执行JS代码。JS引擎执行代码时会逐行读取每一句源码，转换为机器语言然后由计算机去执行。所以JS被归为脚本语言，因为是逐行读取代码。

### 1.5 JS的组成

* ECMAScript：JavaScript语法
* DOM：页面文档对象模型
* BOM：浏览器对象模型

##### 1.5.1 ECMAScript

ECMAScript是由ECMA国际（原欧洲计算机制造协会）设定的标准化的一门编程语言，这种语言在万维网上应用广泛，它往往被称为JavaScript（网景公司）或JScript（微软公司）。但后两者其实只是ECMAScript语言的实现和扩展。

ECMAScript规定了JS的变成语法和基础核心知识，是所有浏览器厂商共同遵守的一套JS语法工业标准

##### 1.5.2 DOM

文档对象模型（Document Object Model）是由W3C组织推荐的处理可扩展标记语言的**标准编程接口**

通过操作文档对象模型可以对页面的所有元素进行操作（大小、颜色等等）

##### 1.5.3 BOM

浏览器对象模型（Browser Object Model）提供了独立与内容的，可以与浏览器窗口进行交互的对象结果。通过BOM可以操作浏览器窗口，比如弹出框、控制浏览器跳转、获取分辨率等等

### 1.6 JS初体验

JS有三种书写位置，分别是行内、内嵌和外部。

##### 1.6.1 行内JS

```html
<input type="button" value="按钮" onclick="alert('行内JS')" />
```

* 可以把单行或少量JS代码卸载HTML标签的事件属性后，如：onclick（鼠标单击事件）
* 注意单双引号的引用
* 可读性差，在HTML中编写大量JS代码，不方便阅读
* 引号易错，引号多层嵌套匹配时，容易弄混
* 特殊情况下使用

##### 1.6.2 内嵌JS

```html
<script>
    alert("内嵌式JS");
</script>
```

* 可以将多行JS代码写到`<script>`标签中

##### 1.6.3 外部JS

```html
<script src="my.js"></script>
```

* 将所有的JS代码独立于页面之外，方便阅读及复用
* 引入外部JS文件的`<script></script>`直接不要写代码
* 适用于JS代码量较多的情况

### 1.7. JavaScript 注释

* 单行注释：`//`
* 多行注释：`/* JS Code */`

### 1.8. JavaScript 输入输出语句

为了方便信息的输入和输出，JS提供一些输入输出语句

| 方法             | 说明                           | 归属   |
| ---------------- | ------------------------------ | ------ |
| alert(msg)       | 浏览器弹出警示框               | 浏览器 |
| console.log(msg) | 浏览器控制台打印输出信息       | 浏览器 |
| prompt(info)     | 浏览器弹出输入框，用户可以输入 | 浏览器 |

# 2. JavaScript变量

变量是用于存放数据的容器，我们可以通过变量名来获取数据，也可以修改数据

### 2.1 变量在内存中的存储

变量是程序在内存中申请的一块用于储存数据的空间

### 2.2 变量的使用

变量在使用时分为两步：1.声明变量  2.赋值

##### 2.2.1 声明变量

```javascript
// 声明变量
var age;  // 声明一个名称为age的变量
```

* var是一个JS关键字，用于声明变量（variable）。使用该关键字声明变量后，计算机会自动在内存中开辟一块空间
* age是自定义的变量名，我们通过这个变量名来访问内存中的变量

##### 2.2.2 赋值

```javascript
age = 10; // 给变量age赋值10
```

##### 2.2.3 变量的初始化

```javascript
var age = 10; // 声明变量并赋值称为变量的初始化
```

### 2.3 变量语法扩展

##### 2.3.1 更新变量

一个变量被重新赋值后，以最后一个值为准

 ```javascript
var age = 18
age = 20; // 此时age=20，之前的值被覆盖
 ```

##### 2.3.2  声明多个变量

```javascript
var age = 0,address = "Beijing";
```

变量之间用逗号分隔

##### 2.3.3 声明变量特殊情况

| 情况                      | 说明           | 结果      |
| ------------------------- | -------------- | --------- |
| var age;console.log(age); | 只声明，不赋值 | undefined |
| console.log(age)          | 不声明直接使用 | 报错      |
| age=10;console.log(age);  | 不声明，只赋值 | 10        |

### 2.4 变量命名规范

* 由字母（a-z,A-Z）、数字（0-9）、下划线（_）、美元符号（$）组成，如：`userAge`、`my01`、`_name`
* 严格区分大小写，app和App是两个变量
* 不能以数字开头
* 不能是关键字、保留字。如：for、var、while
* 变量名必须有意义，不能是aa，bb
* 遵循驼峰命名法，如：myFristName

# 3. JavaScript数据类型

### 3.1 为什么需要数据类型

在计算机中，不同的数据所需占用的储存空间不同的，为了便于把数据分为所需内存大小不同的数据，充分使用储存空间，于是就定义了不同的数据类型

### 3.2 变量的数据类型

变量有名字的数据类型，变量的数据类型决定了如何将代表这些值的位储存到计算机的内存中，JS是一门弱类型的语言，这意味着不用提前声明变量的类型，在程序运行过程中，类型会被自动确定。

因为JS具有动态类型，同时意味着相同的变量可用于不同的数据类型

### 3.3 数据类型的分类

JS把数据类型分为两类：

* 简单数据类型
* 复杂数据类型

### 3.4 简单数据类型（基本数据类型）

| 简单数据类型 | 说明                                 | 默认值    |
| ------------ | ------------------------------------ | --------- |
| Number       | 数字型，包含整形和浮点值，如21、0.21 | 0         |
| Boolean      | 布尔值类型，如true，false            | false     |
| String       | 字符串类型                           | ""        |
| Undefined    | 变量未被初始化                       | undefined |
| Null         | var a = null; 声明了变量a为空值      | null      |

##### 3.4.1 数字型Number

JS数字类型可以用来包含整数和小数。

```javascript
var num = 10; //int 整型
var PI = 3.14; //float 浮点型
var num1 = 010; //在值前面加上0，表示8进制
console.log(num1);
var num2 = 0xa; // 在值前面加上0x，表示16进制 0-9 a-f
console.log(num2);
console.log(Number.MAX_VALUE); // 数字型的最大值
console.log(Number.MIN_VALUE); // 数字型的最小值
```

###### 数字型的特殊值

```javascript
console.log(Infinity); // Infinity
console.log(-Infinity); // -Infinity
console.log(NaN); // NaN例如 console.log("alex" - 100)
```

* Infinity：代表无穷大，大于任何数值
* -Infinity：代表无穷小，小于任何数值
* NaN：not a number，代表一个非数值

###### isNaN()

这个方法用来判断非数字，如果是数字返回false，如果不是数字返回true

##### 3.4.2 字符串型 String

字符串型可以是引号中的任意文本，可以是"双引号"也可以是'单引号'

###### 字符串长度

使用length这个属性

###### 字符串拼接

* 多个字符串可以使用+进行拼接，其拼接方式为 字符串1+字符串2
* 拼接前会把任何类型转换为字符串类型（包括true，false，undefined，null）

##### 3.4.3 布尔型

布尔型（Boolean）只有两个值true，false

在使用布尔型相加时，true当做0来看，false当做1来看

##### 3.4.4 获取数据类型

typeof(变量名)：获取此变量的数据类型

# 3.5 数据类型的转换

##### 3.5.1 转换为字符串

| 方式              | 说明                         | 案例                              |
| ----------------- | ---------------------------- | --------------------------------- |
| toString()        | 转成字符串                   | var num=1; alert(num.toString()); |
| String() 强制转换 | 转换成字符串                 | var num=1; alert(String(num));    |
| 加号拼接字符串    | 和字符串拼接的结果都是字符串 | var num=1; alert(num + "String"); |

##### 3.5.2 转换为数字型（重点）

| 方法               | 说明                         | 案例              |
| ------------------ | ---------------------------- | ----------------- |
| parseInt(string)   | 将string转换为整数数值       | parseInt("123")   |
| parseFloat(string) | 将string转换为浮点数值       | parseFloat("1.2") |
| Number类强制转换   | 将string转换为数值型         | Number("11")      |
| js 隐式转换(- * /) | 利用算术运算隐式转换为数值型 | '12' - 0          |

